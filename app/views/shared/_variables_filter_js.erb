$(document).ready(function() {
	
  $("#select_all").click(function() {
    if ($(this).is(":checked")) {
      $(":checkbox[name=variables_ids[]]").each(function() { $(this).attr('checked', true); })
    } else {
      $(":checkbox[name=variables_ids[]]").each(function() { $(this).attr('checked', false); })
    }
  });
  
  $("form.variables input[type=submit]").click(function(){
    name = $(this).attr("name");
    
    if(name == "disable" || name == "enable") {
	  variables_ids = []
	  $.each($(".variables_ids:checked"), function(i, v) { variables_ids[i] = $(v).val(); });
	  $.post('<%= update_status_admins_master_scenario_system_variables_path(@master_scenario) %>', 
	  			 {  "_method": "put", "variables_ids": variables_ids, "status" : name  }, 
	  			 function(data) { eval(data) }
	  )
		
	  return false;

    } else if (name == "reset") {
      window.location.replace(window.location.pathname);
      return false;
    } else {
      return true;
    }
   });
})
