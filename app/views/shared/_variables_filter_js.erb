$(document).ready(function() {
	
  $("#select_all").click(function() {
    if ($(this).is(":checked")) {
      $(".variables_ids").each(function() { $(this).attr('checked', true); })
    } else {
      $(".variables_ids").each(function() { $(this).attr('checked', false); })
    }
  });
  
  $("li.update_status input[type=submit]").click(function(){
		variables_ids = []
		$.each($(".variables_ids:checked"), function(i, v) { variables_ids[i] = $(v).val(); });

		$.post('<%= status_path %>', 
			{  "_method": "put", "variables_ids": variables_ids, "status" : $(this).attr("name") }, 
			null,
			"script"
		);
					
		return false;
   });
})
