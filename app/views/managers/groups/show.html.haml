= content_for :main_header do
  %h1= @group.name

.well
  = link_to 'Edit', edit_managers_class_path(@group), :class => 'btn success'
  &nbsp;&nbsp;
  = link_to 'Delete', managers_class_path(@group), :confirm => 'Are you sure?', :method => :delete, :class => 'btn danger'

%table
  %tr
    %td
      %strong Invitation URL:
    %td
      %input{:type => "text", :value => membership_register_url(@group.code), :style => "width: 400px", :spellcheck => false}

%h3 Members

- if @group.members.empty?
  %p There are no members registered under this group.
- else
  %table.zebra-striped
    %thead
      %tr
        %th Name
        %th Institution
        %th Email
        %th Role
        %th
        %th
    %tbody
      - @group.members.each do |member|
        %tr
          %td= member.name
          %td= member.institution.try(:name)
          %td= mail_to member.email
          %td= member.role
          %td
            - if member.has_role?(:student) or member.has_role?(:instructor)
              =link_to image_tag("trashcan.gif"), managers_class_membership_path(member, :class_id => @group), :confirm => 'Are you sure?', :method => :delete
          %td= content_tag(:em, "Pending Email Confirmation") unless member.active?

%h3 Scenarios

- if @group.group_scenarios.empty?
  %p There are no scenarios on this class.
- else
  %table.zebra-striped
    %thead
      %tr
        %th Name
        %th Variables
        %th Created on
    %tbody
      - @group.scenarios.each do |scenario|
        %tr
          %td= link_to scenario.name, managers_scenario_path(scenario)
          %td= scenario.variables.count
          %td= scenario.created_at.to_formatted_s(:long)
