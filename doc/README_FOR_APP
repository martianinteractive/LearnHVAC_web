
++++++++++++++++++++++++++++++++++++++++++++++

LEARN HVAC : INSTRUCTOR SITE DOCUMENTATION

Written by: 
Daniel McQuillen
McQuillen Interactive 
www.mcquilleninteractive.com
Jan 15 2009

++++++++++++++++++++++++++++++++++++++++++++++



INTRODUCTION

Learn HVAC is a e-Learning environment that gives HVAC (Heating Ventilating and Air Conditioning) students and engineers access to a fully simulated building. The desktop application uses EnergyPlus and SPARK to simulate building performance, while using Flash to create visualizations of the simulated building and of the generated data.


LEARN HVAC "INSTRUCTOR" SITE OVERVIEW

The Learn HVAC instructor site is a Ruby on Rails application that allows instructors to create and modify "scenarios" for use within the Learn HVAC desktop tool. Scenarios created with this admin tool provide all the information the client needs to configure the client for use. 

Once an instructor has created a scenario, it will show up in the list of scenarios on the Learn HVAC client's main screen. When a student using the desktop client selects a specific scenario, this application sends the scenario information to the client via XML.


SCENARIOS AND SYSTEM VARIABLES

Scenarios are basically composed of two things: 1) some meta-data that describes what the scenario is and enables/disables some features on the client, and 2) a set of default settings for a long list of "system variables" that drive the simulation. Most of these variables are directly related to LBNL's SPARK simulator that runs on the desktop during the simulation.

Because system variables can have different initial settings in each scenario, yet at the same time need to retain some core data across all scenarios, I've created a join table that links system variables to scenarios (scenarios_systemvariables table). For example, a system variable's name never changes across all scenarios (it's in the scenarios table) but different temperatures for incoming air can be set in each scenario because these values are stored in the join table.

System variables are very strongly coupled to the SPARK simulator that runs on the desktop, so only the super-admin can edit or delete them (since it implies that a new SPARK simulator is going to be pushed to all clients). Other users can only view system variables.


USER MANAGEMENT

This site provides a simple system to manage who gets access to scenarios provided by the site, and who can edit those scenarios.

Users are grouped into institutions, which represent the types of institutions that will be using this application: community colleges, continuing education companies, etc. Super-administrators are grouped into a special institution called the "administration" institution.

There are five types of roles defined in this application

- SuperAdministrator : Has access to all functions across all institutions
- Administrator : Has access to admin functions within assigned institution
- Instructor : Has access to instructor functions within assigned institution
- Student : No site access, can only login via LH client
- Guest : No site access, can only login via LH client


ROLE FUNCTIONS

Different roles can do different things with scenarios and users. Here's a quick breakdown: (CRUD = create/read/update/delete)
  	
	- superadmin: 	
		- Can view scenarios in all institutions
		- Can CRUD scenarios and assign those scenarios to any institution
		- Can CRUD, student, and guest users in any institution
		- Can't delete a superadministrator 
		- Can CRUD system variables
	
  	- admin
		- Can view scenarios in own institution
		- Can CRUD scenarios in own institution
		- Can CRUD instructor, student and guest users in own institution
		- Can only view system variables 
		
	- instructors:	
    	- Can only view scenarios in own institution
    	- Can CRUD scenarios in own institution
		- Can CRUD student and guest users in own institution
		- Can only view system variables
	
  	- student
	    - No access to site, only to desktop client
	
	- guest
    	- No access to site, only to desktop client
  







